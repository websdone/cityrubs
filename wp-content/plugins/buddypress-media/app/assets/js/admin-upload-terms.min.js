/*! 
 * rtMedia JavaScript Library 
 * @package rtMedia 
 */

jQuery(document).ready(function(a){function b(a,b){var c=jQuery(a);if(c.focus(),c.css("border-color","red"),c.parent().length>0&&"error_msg"!==c.parent().attr("class")){var d=jQuery("<span />").attr("style","display:block").addClass("error_msg").html(b);c.after(d)}return return_code=!1,!1}function c(){!0===d.prop("checked")||!0===e.prop("checked")?(f.closest(".form-table").slideDown(),g.closest(".form-table").slideDown(),h.closest(".form-table").slideDown()):(f.closest(".form-table").slideUp(),g.closest(".form-table").slideUp(),h.closest(".form-table").slideUp()),!0===i.prop("checked")?j.closest(".form-table").slideDown():j.closest(".form-table").slideUp()}var d=jQuery('input[name^="rtmedia-options[general_enable_upload_terms]"]'),e=jQuery('input[name^="rtmedia-options[activity_enable_upload_terms]"]'),f=jQuery('input[name^="rtmedia-options[general_upload_terms_page_link]"]'),g=jQuery('input[name^="rtmedia-options[general_upload_terms_message]"]'),h=jQuery('input[name^="rtmedia-options[general_upload_terms_error_message]"]'),i=jQuery('input[name^="rtmedia-options[general_upload_terms_show_pricacy_message]"]'),j=jQuery('textarea[name^="rtmedia-options[general_upload_terms_privacy_message]"]');c(),jQuery('input[name^="rtmedia-options[general_enable_upload_terms]"], input[name^="rtmedia-options[activity_enable_upload_terms]"], input[name^="rtmedia-options[general_upload_terms_show_pricacy_message]"]').change(function(){c()}),jQuery("#bp-media-settings-boxes").on("submit","#bp_media_settings_form, .rtmedia-settings-submit",function(a){if(d.length>0&&void 0!==d||e.length>0&&"string"!==e){var c="";if(!0===d.prop("checked")||!0===e.prop("checked")){if(jQuery(".error_msg").remove(),jQuery(".rtm-form-text").css("border-color","#ddd"),!/^(http|https|ftp):\/\/[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/i.test(f.val()))return c+=rtm_upload_terms_error_msgs.valid_url,b(f,c);if(""===g.val().trim())return c+=rtm_upload_terms_error_msgs.terms_msg,b(g,c);if(""===h.val().trim())return c+=rtm_upload_terms_error_msgs.error_msg,b(h,c)}}if(i.length>0&&void 0!==i){var c="";if(i.prop("checked")&&(jQuery(".error_msg").remove(),""==j.val().trim()))return c+=rtm_upload_terms_error_msgs.privacy_msg,b(j,c)}})});